[manager]
ratio = [1,2,3]
show_hidden = true
show_symlink = true
title_format = "yazi"

[preview]
wrap = "yes"
max_width = 3000
max_height = 3000

[opener]
quicklook = [
	{ run = 'qlmanage -p "$@" >/dev/null 2>/dev/null', orphan = true, for = "macos", desc = "open using the MacOS Quicklook" },
]
glow = [
	{ run = 'glow -p "$@"', block = true, orphan = false, for = "macos", desc = "open using glow" },
]

# play = [
# 	{ run = 'qlmanage -p "$@" >/dev/null 2>/dev/null', orphan = false, for = "macos", desc = "open using the MacOS Quicklook" },
# ]

[open]
prepend_rules = [
  # { mime = "{image,audio,video}/*", use = "quicklook"},
  # { name = "*.json", use = "edit" },
	# { name = "*.html", use = [ "open", "edit" ] },
	{ name = "*.jpg", use = "quicklook" },
	{ name = "*.jpeg", use = "quicklook" },
	{ name = "*.png", use = "quicklook" },
	{ name = "*.heic", use = "quicklook" },
	{ name = "*.pdf", use = "quicklook" },
	{ name = "*.mp3", use = "quicklook" },
	{ name = "*.wav", use = "quicklook" },
	{ name = "*.key", use = [ "quicklook", "open" ] },
	{ name = "*.pages", use = [ "quicklook", "open" ] },
	{ name = "*.doc", use = [ "quicklook", "open" ] },
	{ name = "*.docx", use = [ "quicklook", "open" ] },

	{ name = "*.md", use = [ "edit", "glow" ] },
]
append_rules = [
	{ name = "*", use = "quicklook" },
]







[plugin]
prepend_previewers = [
	# Archive previewer
	{ mime = "application/*zip",            run = "ouch" },
	{ mime = "application/x-tar",           run = "ouch" },
	{ mime = "application/x-bzip2",         run = "ouch" },
	{ mime = "application/x-7z-compressed", run = "ouch" },
	{ mime = "application/x-rar",           run = "ouch" },
	{ mime = "application/x-xz",            run = "ouch" },
	# mediainfo
  { mime = "{image,audio,video}/*", run = "mediainfo"},
  { mime = "application/subrip", run = "mediainfo"},
	# Markdown
  { name = "*.md", run = "glow" },
  # { name = "*.md", run = "mdcat" },
	# Rich
  { name = "*.csv", run = "rich-preview"}, # for csv files
  # { name = "*.md", run = "rich-preview" }, # for markdown (.md) files
  { name = "*.rst", run = "rich-preview"}, # for restructured text (.rst) files
  { name = "*.ipynb", run = "rich-preview"}, # for jupyter notebooks (.ipynb)
  { name = "*.json", run = "rich-preview"}, # for json (.json) files
# { name = "*.lang_type", run = "rich-preview"} # for particular language files eg. .py, .go., .lua, etc.
]

append_previewers = [
	# Binary previewer
  { name = "*", run = "hexyl" },
]


[[plugin.prepend_fetchers]]
id   = "git"
name = "*"
run  = "git"

[[plugin.prepend_fetchers]]
id   = "git"
name = "*/"
run  = "git"

